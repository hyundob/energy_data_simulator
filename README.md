# 에너지 데이터 시뮬레이터

이 프로그램은 제주 에너지 관련 7개 테이블의 데이터를 생성하고 PostgreSQL 데이터베이스에 직접 삽입하는 기능을 제공합니다. 매일 24시(자정)에 자동으로 실행되어 00:00부터 23:00까지 한 시간 간격으로 데이터를 생성합니다.

## 설치 방법

1. 필요한 패키지 설치:
```bash
pip install -r requirements.txt
```

## 설정 방법

### 1. 환경변수 설정
프로젝트 루트에 `.env` 파일을 생성하고 다음 내용을 입력하세요:

```
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_database_name
DB_USER=your_username
DB_PASSWORD=your_password
```

### 2. PostgreSQL 데이터베이스 준비
- PostgreSQL 서버가 실행 중이어야 합니다
- 데이터베이스가 생성되어 있어야 합니다
- 사용자가 해당 데이터베이스에 접근 권한이 있어야 합니다

## 사용 방법

### 자동 실행 모드 (스케줄링)
매일 24시(자정)에 자동으로 실행됩니다:
```bash
python energy_data_simulator.py
```

### 수동 실행 모드
즉시 실행하려면:
```bash
python energy_data_simulator.py --manual
```

## 기능

- **자동 스케줄링**: 매일 24시(자정)에 자동 실행
- **시간대별 데이터 생성**: 00:00부터 23:00까지 24시간 데이터 생성
- **7개 테이블 동시 처리**: 모든 에너지 관련 테이블을 한 번에 처리
- **시간대별 패턴 차별화**: 
  - 수요량: 시간대별 피크 패턴
  - 태양광: 낮 시간대 높은 생산량
  - 풍력: 일정한 패턴
  - 수소 생산: 시간대별 변동 패턴
- 랜덤 에너지 데이터 생성
- PostgreSQL 데이터베이스에 자동 테이블 생성
- 생성된 데이터를 데이터베이스에 직접 삽입
- 삽입 결과 확인 및 오류 처리

## 생성되는 데이터

매일 실행 시 다음 시간대의 데이터가 생성됩니다:
- 00:00, 01:00, 02:00, 03:00, 04:00, 05:00, 06:00, 07:00, 08:00, 09:00, 10:00, 11:00
- 12:00, 13:00, 14:00, 15:00, 16:00, 17:00, 18:00, 19:00, 20:00, 21:00, 22:00, 23:00

총 24개 시간대의 데이터가 생성되며, 각 시간대별로 다른 에너지 패턴을 가집니다.

## 생성되는 테이블들

### 1. REP_DATA_RE_FCST_LFD_DA
- **목적**: 수요 예측량 자료
- **데이터**: 시간대별 수요량 예측 (피크 시간대 높은 수요)

### 2. REP_DATA_RE_FCST_GEN_DA  
- **목적**: 신재생 예측 발전량 자료
- **데이터**: 태양광, 풍력 등 신재생 에너지 발전량 예측

### 3. REP_DATA_HG_FCST_NWP_DA
- **목적**: 수소 생산단지 기상 예측 자료
- **데이터**: 일사량, 기온, 습도, 풍속, 기압 예측

### 4. REP_DATA_RE_KPX_JEJU_SUKUB_M
- **목적**: 제주 계통 운영 정보
- **데이터**: 공급능력, 현재수요, 신재생합계, 태양광합계, 풍력합계

### 5. REP_DATA_P2H_FCST_CURT_DA
- **목적**: 제주 전체 예측 출력제어량
- **데이터**: 중앙급전 최소출력량, 출력제어량

### 6. REP_DATA_HG_FCST_GEN_GENT_DA
- **목적**: 수소발전단지 수소 예측 생산량 자료
- **데이터**: 최종생산량, 예측설비용량

### 7. REP_DATA_HG_MEAS_GEM_GENT_DA
- **목적**: 수소발전단지 수소 생산량 정보
- **데이터**: 수소 생산량, 설비용량

## 데이터 패턴

### 시간대별 패턴
- **수요량**: 06:00-09:00, 17:00-20:00 피크
- **태양광**: 06:00-18:00 높은 생산량
- **풍력**: 일정한 패턴
- **수소 생산**: 06:00-18:00 높은 생산량, 19:00-05:00 낮은 생산량

### 기상 데이터
- **일사량**: 낮 시간대 높음
- **기온**: 시간대별 변동
- **습도**: 역상관관계
- **풍속**: 랜덤 패턴
- **기압**: 안정적 패턴

## 주의사항

- 데이터베이스 연결 정보는 보안을 위해 `.env` 파일에 저장하세요
- `.env` 파일은 `.gitignore`에 추가하여 버전 관리에서 제외하세요
- 프로그램 실행 전 PostgreSQL 서버가 실행 중인지 확인하세요
- 자동 실행 모드에서는 프로그램을 계속 실행 상태로 유지해야 합니다
- 서버 환경에서는 `nohup` 또는 `systemd` 등을 사용하여 백그라운드에서 실행하는 것을 권장합니다 